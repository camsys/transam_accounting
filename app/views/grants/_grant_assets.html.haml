:ruby
  table_dom_id = SecureRandom.hex

%table.table.table-hover{:id => table_dom_id, :data => {:toggle => 'table',
  :card_view => "false",
  :show_pagination_switch => 'true',
  :pagination => 'true',
  :show_columns => 'false',
  :search => 'true',
  :show_export => 'true',
  :export_types => "['csv', 'txt', 'excel']",
  :show_toggle => 'false',
  :resizable => 'false',
  :search => 'false'}}
  %thead
    %tr
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Asset ID
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} External ID
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Organization
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Year
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Category
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Class
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Type
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Subtype
      %th.right{:data => {:sortable => 'true', :order => 'desc'}} Cost (Purchase)
      %th.right{:data => {:sortable => 'true', :order => 'desc'}} Amount
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Condition
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} Status
      %th.left{:data => {:sortable => 'true', :order => 'desc'}} In Service Date

  %tbody
    - assets.each do |a|
      - a = TransamAsset.get_typed_asset(a)
      %tr{:id => a.object_key}
        %td.left= link_to a.asset_tag, inventory_path(a), target: :blank
        %td.left= a.external_id
        %td.left= a.organization.short_name
        %td.left= a.manufacture_year
        %td.left= a.fta_asset_category.name
        %td.left= a.fta_asset_class.name
        %td.left= a.fta_type_type.classify.constantize.find_by(id: a.fta_type_id).name
        %td.left= a.asset_subtype
        %td.right= format_as_currency(a.purchase_cost)
        %td.right= format_as_currency(a.purchase_cost * 0.01 * GrantPurchase.find_by(transam_asset_id: a.transam_assetible_id, sourceable_type: "Grant", sourceable_id: grant_id).pcnt_purchase_cost)
        %td.left= format_as_decimal(a.reported_condition_rating, 2)
        %td.left= a.service_status_type.name unless a.service_status_type.nil?
        %td.left= format_as_date(a.in_service_date)

= render :partial => 'shared/table_scripts', :locals => {:table_id => table_dom_id, :path_pattern => inventory_path("xxx")}